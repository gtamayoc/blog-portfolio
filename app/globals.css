@import "tailwindcss";
@plugin "@tailwindcss/typography";

@theme inline {
  /* Semantic Tokens mapped to Tailwind utilities */
  --color-page: var(--bg-page);
  --color-surface: var(--bg-surface);
  --color-surface-hover: var(--bg-surface-hover);

  --color-border-subtle: var(--border-subtle);
  --color-border-active: var(--border-active);

  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-text-accent: var(--text-accent);

  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);

  --radius-xl: 0.75rem;
  --radius-2xl: 1rem;
  --radius-3xl: 1.5rem;

  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* Light Mode (Default) - Soft Pastel / High Contrast Text */
/* Light Mode (Revised) - Clean & Readable */
:root {
  --bg-page: #ffffff;
  /* Pure white base */
  --bg-surface: #f8fafc;
  /* slate-50 for cards */
  --bg-surface-hover: #f1f5f9;
  /* slate-100 */

  --border-subtle: #cbd5e1;
  /* slate-300 - Distinct but not heavy */
  --border-active: #94a3b8;
  /* slate-400 */

  --text-primary: #0f172a;
  /* slate-900 - High contrast */
  --text-secondary: #475569;
  /* slate-600 - Visible but clearly secondary */
  --text-accent: #4338ca;
  /* indigo-700 - Slightly darker for accessibility */

  --primary: #4f46e5;
  --primary-foreground: #ffffff;
}

/* Dark Mode - Deep & Balanced */
.dark {
  --bg-page: #09090b;
  /* zinc-950 - Deep black/grey */
  --bg-surface: #18181b;
  /* zinc-900 */
  --bg-surface-hover: #27272a;
  /* zinc-800 */

  --border-subtle: #27272a;
  /* zinc-800 */
  --border-active: #52525b;
  /* zinc-600 */

  --text-primary: #f4f4f5;
  /* zinc-100 - Not pure white, easier on eyes */
  --text-secondary: #a1a1aa;
  /* zinc-400 - Good contrast against dark bg */
  --text-accent: #818cf8;
  /* indigo-400 */

  --primary: #6366f1;
  /* indigo-500 */
  --primary-foreground: #ffffff;
}

@layer base {
  body {
    @apply bg-page text-text-primary antialiased overflow-x-hidden min-h-[100dvh];
    /* Smooth theme transition */
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 300ms;
  }

  html {
    @apply overflow-x-hidden;
  }

  /* Typography Defaults */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply text-text-primary tracking-tight font-semibold text-balance;
  }

  p {
    @apply leading-relaxed;
  }

  /* Focus Accessibility */
  :focus-visible {
    @apply outline-none ring-2 ring-primary ring-offset-2 ring-offset-page;
  }
}

@utility prose-custom {
  @apply prose prose-slate dark:prose-invert prose-headings:text-text-primary prose-p:text-text-secondary prose-strong:text-text-primary prose-code:text-text-accent;
  /* Override default prose colors with our high-contrast variables */
  --tw-prose-body: var(--text-secondary);
  --tw-prose-headings: var(--text-primary);
  --tw-prose-lead: var(--text-secondary);
  --tw-prose-links: var(--primary);
  --tw-prose-bold: var(--text-primary);
  --tw-prose-counters: var(--text-secondary);
  --tw-prose-bullets: var(--text-secondary);
  --tw-prose-hr: var(--border-subtle);
  --tw-prose-quotes: var(--text-primary);
  --tw-prose-quote-borders: var(--border-active);
  --tw-prose-captions: var(--text-secondary);
  --tw-prose-code: var(--text-accent);
  --tw-prose-pre-code: var(--text-primary);
  --tw-prose-pre-bg: var(--bg-surface-hover);
  --tw-prose-th-borders: var(--border-subtle);
  --tw-prose-td-borders: var(--border-subtle);
}